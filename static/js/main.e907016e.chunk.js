(this["webpackJsonpfrontend-examples"]=this["webpackJsonpfrontend-examples"]||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var s,r=n(3),i=n.n(r),a=n(9),o=n.n(a),c=(n(14),n(1)),u=n(2),l=n(6),h=n(4),d=n(5),f=n(0),j=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.task;return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Task result"}),Object(f.jsxs)("ul",{children:[Object(f.jsxs)("li",{children:["Solved examples count: ",e.solvedExamplesCount]}),Object(f.jsxs)("li",{children:["Errors count: ",e.wrongExamplesCount]})]}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{onClick:this.props.startNewTask,children:"Start new task"})}),Object(f.jsx)("h2",{children:"Examples"}),Object(f.jsxs)("table",{children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"#"}),Object(f.jsx)("th",{children:"Example"}),Object(f.jsx)("th",{children:"Answer"})]})}),Object(f.jsx)("tbody",{children:this.showExamples(e)})]})]})}},{key:"showExamples",value:function(e){var t,n=[],s=1,r=Object(d.a)(e.examples);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push(Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:s}),Object(f.jsx)("td",{children:i.string}),Object(f.jsx)("td",{children:i.answer})]})),i.isSolved&&s++}}catch(a){r.e(a)}finally{r.f()}return n}}]),n}(i.a.Component),p=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Task settings"}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{onClick:this.props.startNewTask,children:"Start new task"})})]})}}]),n}(i.a.Component),b=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(c.a)(this,n);for(var s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={example:e.getActualOrNewExample(),answer:"",showTaskHistory:!1,showTaskConfig:!1},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.getCurrentOrNewTask();return this.state.showTaskHistory?Object(f.jsx)(j,{task:e,startNewTask:this.startNewTask.bind(this)}):this.state.showTaskConfig?Object(f.jsx)(p,{startNewTask:this.startNewTask.bind(this)}):Object(f.jsxs)("div",{children:[Object(f.jsxs)("form",{onSubmit:this.submitHandler.bind(this),children:[Object(f.jsxs)("h1",{children:["Example #",e.rightExamplesCount," from ",e.taskSettings.examplesCount]}),Object(f.jsxs)("span",{children:[this.state.example.string," = "]}),Object(f.jsx)("input",{type:"text",value:this.state.answer,onChange:this.changeHandler.bind(this)}),Object(f.jsx)("button",{type:"submit",children:"Answer"})]}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{onClick:this.clickHandler.bind(this),children:"Change settings"})})]})}},{key:"startNewTask",value:function(){this.props.taskProvider.cleanCurrentTask(),this.setState({example:this.getActualOrNewExample(),showTaskHistory:!1,showTaskConfig:!1})}},{key:"clickHandler",value:function(){this.setState({showTaskConfig:!0})}},{key:"changeHandler",value:function(e){this.setState({answer:e.target.value})}},{key:"submitHandler",value:function(e){e.preventDefault();var t=this.state.answer;""!==t&&(this.setState({answer:""}),this.state.example.answer=+t,this.getCurrentOrNewTask().isSolved?this.setState({showTaskHistory:!0}):this.setState({example:this.getActualOrNewExample()}))}},{key:"getCurrentOrNewTask",value:function(){return this.props.taskProvider.getCurrentOrNewTask()}},{key:"getActualOrNewExample",value:function(){return this.props.exampleProvider.getActualOrNewExample(this.getCurrentOrNewTask())}}]),n}(i.a.Component),x=n(7);!function(e){e[e.Add=1]="Add",e[e.Sub=2]="Sub",e[e.Mult=3]="Mult",e[e.Div=4]="Div"}(s||(s={}));var v=function(){function e(t,n,s){Object(c.a)(this,e),this.first=t,this.operation=n,this.second=s,this.answer=null}return Object(u.a)(e,[{key:"hasAnswer",get:function(){return null!==this.answer}},{key:"string",get:function(){var e,t=(e={},Object(x.a)(e,s.Add,"+"),Object(x.a)(e,s.Sub,"-"),Object(x.a)(e,s.Mult,"*"),Object(x.a)(e,s.Div,":"),e);return"".concat(this.first," ").concat(t[this.operation]," ").concat(this.second)}},{key:"isSolved",get:function(){return this.answer===this.solution}},{key:"solution",get:function(){switch(this.operation){case s.Add:return this.first+this.second;case s.Sub:return this.first-this.second;case s.Mult:return this.first*this.second}return this.first/this.second}}],[{key:"createFromValues",value:function(t,n){return new e(t.first,n,t.second)}}]),e}(),O=function(){function e(t){Object(c.a)(this,e),this.exampleGenerator=t}return Object(u.a)(e,[{key:"getActualOrNewExample",value:function(e){var t=e.lastExample;if(null!==t&&!t.hasAnswer)return t;var n=this.exampleGenerator.generate(e);return null===t||(null===t||void 0===t?void 0:t.isSolved)||(n=new v(null===t||void 0===t?void 0:t.first,null===t||void 0===t?void 0:t.operation,null===t||void 0===t?void 0:t.second)),e.examples.push(n),n}}]),e}(),k=function(){function e(t){Object(c.a)(this,e),this.taskSettings=t,this.examples=[]}return Object(u.a)(e,[{key:"rightExamplesCount",get:function(){return this.solvedExamplesCount+this.examples.filter((function(e){return!e.hasAnswer})).length}},{key:"wrongExamplesCount",get:function(){return this.examples.filter((function(e){return e.hasAnswer&&!e.isSolved})).length}},{key:"solvedExamplesCount",get:function(){return this.solvedExamples.length}},{key:"solvedExamples",get:function(){return this.examples.filter((function(e){return e.isSolved}))}},{key:"remainedExamplesCount",get:function(){return this.taskSettings.examplesCount-this.solvedExamplesCount}},{key:"isSolved",get:function(){return 0===this.remainedExamplesCount}},{key:"lastExample",get:function(){var e=this.examples.length;return 0===e?null:this.examples[e-1]}}]),e}(),m=function e(t,n){Object(c.a)(this,e),this.examplesCount=t,this.exampleSettings=n},g=function e(t,n,s,r){Object(c.a)(this,e),this.minValue=t,this.maxValue=n,this.minResult=s,this.maxResult=r},w=function(){function e(){Object(c.a)(this,e),this.currentTask=null}return Object(u.a)(e,[{key:"getCurrentOrNewTask",value:function(){return null==this.currentTask&&(this.currentTask=new k(new m(20,new g(1,9,1,10)))),this.currentTask}},{key:"cleanCurrentTask",value:function(){this.currentTask=null}}]),e}();function y(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function C(e){return e/100<=Math.random()}var T=function(){function e(t,n){Object(c.a)(this,e),this.operationGeneratorCollection=t,this.coefficientGenerator=n}return Object(u.a)(e,[{key:"generate",value:function(e){var t=this.operationGeneratorCollection.getGenerator(s.Add),n=e.taskSettings.exampleSettings,r=t.generate(n);if(C(15))return r;for(var i=0,a=1;a<=100;a++){var o=t.generate(n),c=this.coefficientGenerator.getUniqueCoefficient(o,e);c>i&&(r=o,i=c)}return r}}]),e}(),E=function(){function e(){Object(c.a)(this,e)}return Object(u.a)(e,[{key:"getUniqueCoefficient",value:function(e,t){var n,s=1,r=t.solvedExamples,i=r.length||1,a=Object(d.a)(r);try{for(a.s();!(n=a.n()).done;){var o=n.value;e.first===o.first&&e.operation===o.operation&&e.second===o.second&&(s-=.6/i),e.solution===o.solution&&(s-=.4/i)}}catch(c){a.e(c)}finally{a.f()}return s}}]),e}(),S=function e(t,n){Object(c.a)(this,e),this.first=t,this.second=n},A=new O(new T(new(function(){function e(t){Object(c.a)(this,e),this.generators=t}return Object(u.a)(e,[{key:"getGenerator",value:function(e){var t,n=Object(d.a)(this.generators);try{for(n.s();!(t=n.n()).done;){var s=t.value;if(e===s.operation)return s}}catch(r){n.e(r)}finally{n.f()}throw new DOMException("Generator with ".concat(e," does not exist"))}}]),e}())([new(function(){function e(){Object(c.a)(this,e),this.operation=s.Add}return Object(u.a)(e,[{key:"generate",value:function(e){return v.createFromValues(this.generateValues(e),this.operation)}},{key:"generateValues",value:function(e){var t=y(e.minValue,e.maxValue),n=this.getValueBetween(e.minValue,e.minResult-t,e.minValue),s=y(n,this.getValueBetween(e.maxValue,n,e.maxResult-t));return C(60)?new S(t,s):new S(s,t)}},{key:"getValueBetween",value:function(e,t,n){if(t>n)throw new DOMException("".concat(t," is greater than ").concat(n));return e<t?t:e>n?n:e}}]),e}())]),new E)),N=new w;function V(){return Object(f.jsx)(b,{taskProvider:N,exampleProvider:A})}var H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),s(e),r(e),i(e),a(e)}))};o.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(V,{})}),document.getElementById("root")),H()}},[[16,1,2]]]);
//# sourceMappingURL=main.e907016e.chunk.js.map